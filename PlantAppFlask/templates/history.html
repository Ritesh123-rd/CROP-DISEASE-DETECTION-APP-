<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlantCare AI - History</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .container {
            display: flex;
            flex-direction: column;
            flex: 1;
            padding-bottom: 0;
        }
    </style>
</head>
<body>
    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <i class="material-icons">eco</i>
            </div>
            <h2 style="font-size: 20px;">PlantCare AI</h2>
        </div>
        <div class="sidebar-menu">
            <a href="/home" class="menu-item">
                <i class="material-icons">home</i>
                <span>Home</span>
            </a>
            <a href="/diagnosis" class="menu-item">
                <i class="material-icons">camera_alt</i>
                <span>AI Diagnosis</span>
            </a>
            <a href="/chat" class="menu-item">
                <i class="material-icons">chat</i>
                <span>Plant Doctor</span>
            </a>
            <a href="/history" class="menu-item active">
                <i class="material-icons">history</i>
                <span>History</span>
            </a>
            <a href="/about" class="menu-item">
                <i class="material-icons">info</i>
                <span>About App</span>
            </a>
            <div style="border-top: 1px solid var(--gray-100); margin: 10px 0;"></div>
            <a href="#" onclick="handleLogout()" class="menu-item">
                <i class="material-icons">logout</i>
                <span>Logout</span>
            </a>
        </div>
    </div>

    <div class="container">
        <!-- Sidebar Toggle Button -->
        <button class="sidebar-btn" onclick="toggleSidebar()">
            <i class="material-icons">menu</i>
        </button>
        <!-- Header -->
        <div class="header">
            <div style="width:40px;"></div>
            <h1 class="header-title">History</h1>
            <div style="width:40px;"></div>
        </div>

        <!-- History Container -->
        <div class="history-container animate-fade-in">
            <!-- History Item 1 -->
            <div class="history-card">
                <div class="history-header">
                    <div class="history-icon">
                        <i class="material-icons">local_florist</i>
                    </div>
                    <div class="history-info">
                        <h3 class="history-plant">Tomato Leaf</h3>
                        <div class="history-disease">
                            <i class="material-icons">warning</i>
                            <span>Early Blight</span>
                        </div>
                    </div>
                    <span class="confidence-badge">95%</span>
                </div>
                <div class="history-footer">
                    <div class="history-date">
                        <i class="material-icons">calendar_today</i>
                        <span>2026-01-09</span>
                    </div>
                    <div class="history-date">
                        <i class="material-icons">access_time</i>
                        <span>10:30 AM</span>
                    </div>
                </div>
            </div>

            <!-- History Item 2 -->
            <div class="history-card">
                <div class="history-header">
                    <div class="history-icon">
                        <i class="material-icons">local_florist</i>
                    </div>
                    <div class="history-info">
                        <h3 class="history-plant">Rose Leaf</h3>
                        <div class="history-disease">
                            <i class="material-icons">warning</i>
                            <span>Black Spot</span>
                        </div>
                    </div>
                    <span class="confidence-badge">92%</span>
                </div>
                <div class="history-footer">
                    <div class="history-date">
                        <i class="material-icons">calendar_today</i>
                        <span>2026-01-08</span>
                    </div>
                    <div class="history-date">
                        <i class="material-icons">access_time</i>
                        <span>02:15 PM</span>
                    </div>
                </div>
            </div>

            <!-- History Item 3 -->
            <div class="history-card">
                <div class="history-header">
                    <div class="history-icon">
                        <i class="material-icons">local_florist</i>
                    </div>
                    <div class="history-info">
                        <h3 class="history-plant">Apple Leaf</h3>
                        <div class="history-disease">
                            <i class="material-icons">warning</i>
                            <span>Apple Scab</span>
                        </div>
                    </div>
                    <span class="confidence-badge">88%</span>
                </div>
                <div class="history-footer">
                    <div class="history-date">
                        <i class="material-icons">calendar_today</i>
                        <span>2026-01-07</span>
                    </div>
                    <div class="history-date">
                        <i class="material-icons">access_time</i>
                        <span>09:45 AM</span>
                    </div>
                </div>
            </div>

            <!-- History Item 4 -->
            <div class="history-card">
                <div class="history-header">
                    <div class="history-icon">
                        <i class="material-icons">local_florist</i>
                    </div>
                    <div class="history-info">
                        <h3 class="history-plant">Potato Leaf</h3>
                        <div class="history-disease">
                            <i class="material-icons">warning</i>
                            <span>Late Blight</span>
                        </div>
                    </div>
                    <span class="confidence-badge">97%</span>
                </div>
                <div class="history-footer">
                    <div class="history-date">
                        <i class="material-icons">calendar_today</i>
                        <span>2026-01-06</span>
                    </div>
                    <div class="history-date">
                        <i class="material-icons">access_time</i>
                        <span>04:20 PM</span>
                    </div>
                </div>
            </div>

            <!-- History Item 5 -->
            <div class="history-card">
                <div class="history-header">
                    <div class="history-icon">
                        <i class="material-icons">local_florist</i>
                    </div>
                    <div class="history-info">
                        <h3 class="history-plant">Grape Leaf</h3>
                        <div class="history-disease">
                            <i class="material-icons">warning</i>
                            <span>Powdery Mildew</span>
                        </div>
                    </div>
                    <span class="confidence-badge">91%</span>
                </div>
                <div class="history-footer">
                    <div class="history-date">
                        <i class="material-icons">calendar_today</i>
                        <span>2026-01-05</span>
                    </div>
                    <div class="history-date">
                        <i class="material-icons">access_time</i>
                        <span>11:00 AM</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('active');
            document.getElementById('sidebarOverlay').classList.toggle('active');
        }

        async function handleLogout() {
            try {
                await fetch('/api/logout', { method: 'POST' });
                window.location.href = '/login';
            } catch (error) {
                console.error('Logout error:', error);
                window.location.href = '/login';
            }
        }
    </script>
</body>
</html>
